<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <script src=
"https://code.jquery.com/jquery-3.5.1.js">
    </script> -->
    <!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script> -->

    <title>Read JSON...............</title>
</head>
<body>

        <h1>Read JSON</h1>

    <script>
  // window.open("https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=23.7732245%2C90.4075326&radius=1500&type=restaurant&keyword=burger&key=AIzaSyBwWnTI_T-0AHcZK29ZIOTsK0KYYhMFqnM");
//   async function GetJson(){
//        const response = await fetch('/postman.json');
//        const blob = await response.blob();
//        console.log(bob);
//        }
//        GetJson()
// fetch('postman.json')
// .then(res) => {return res.json()}
if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(function (p) {
        var mapOptions = {
          center: { lat: 23.7732245, lng: 90.4075326 },
          zoom: 16,
          mapTypeId: 'roadmap',
        };

fetch('./postman.json')
.then((response) => { return response.json()})
.then((json) => {

  json.results.forEach( (i)=>{

  const LatLng = { lat: i.geometry.location.lat, lng: i.geometry.location.lng };
            console.log(LatLng);
            var marker = new google.maps.Marker({
              position: LatLng,
               map: mapOptions,
               title: i.name,
               icon: i.icon,
               open_now: i.opening_hours.open_now,
               rating: i.rating
             });
           })
         });
         var map = new google.maps.Map(
          document.getElementById("dvMap"),
          mapOptions
        );
      });
    } else {
      alert("Geo Location feature is not supported in this browser.");
    }

//         fetch('https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=23.7732245%2C90.4075326&radius=1500&type=restaurant&keyword=burger&key=AIzaSyBwWnTI_T-0AHcZK29ZIOTsK0KYYhMFqnM')
//     .then(res => res.json())
//     .then((out) => {
//         console.log('Output: ', out);
// }).catch(err => console.error(err));

// var url = "https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=23.7732245%2C90.4075326&radius=1500&type=restaurant&keyword=burger&key=AIzaSyBwWnTI_T-0AHcZK29ZIOTsK0KYYhMFqnM";
// function getData(url, cb) {
//   fetch(url)
//     .then(response => response.json())
//     .then(result => cb(result));
// }

//getData(url, (data) => console.log({ data }))
//         async function getData(url) {
//   const response = await fetch(url);

//   return response.json();
// }

// const data = await getData(url);

// console.log({ data })



//         var js;
// $.getJSON("https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=23.7732245%2C90.4075326&radius=1500&type=restaurant&keyword=burger&key=AIzaSyBwWnTI_T-0AHcZK29ZIOTsK0KYYhMFqnM", 
//     function(data) {
//         js = data;
//         $("div").html(js);
// console.log(js);
//     }
// );

</script>



</body>
</html>